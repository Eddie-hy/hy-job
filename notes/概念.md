###  XXL-JOB是什么？

**XXL-Job** 是一个分布式任务调度平台，用于解决大规模任务调度和管理问题。它提供了可视化的任务管理界面，支持分布式任务调度、任务依赖、任务失败重试、分片广播等功能，能够满足各种复杂的任务调度需求。

以下是 XXL-Job 的一些主要特点和功能：

1. **分布式任务调度**：支持在多台机器上执行定时任务，通过分布式任务调度来实现任务的高可用和负载均衡。
2. **任务管理**：提供 Web 界面，可以轻松创建、修改、删除任务，并查看任务执行的日志和状态。
3. **任务依赖**：支持任务之间的依赖关系，可以按照一定的顺序和条件执行任务。
4. **动态任务参数**：任务可以设置参数，支持根据参数的变化执行不同的逻辑。
5. **任务失败重试**：可以配置任务失败后的重试策略，确保任务能够成功执行。
6. **分片广播**：可以将任务分片执行，以提高任务的并发度和执行效率。
7. **任务日志和报警**：记录任务执行的日志，支持报警机制，可以在任务执行异常时发送通知。
8. **多种任务触发方式**：支持基于 CRON 表达式、固定频率、API 触发等多种触发方式。
9. **权限管理**：支持多用户、多角色，可以分配不同的权限给不同的用户。
10. **轻量级部署**：XXL-Job 的服务端是一个轻量级的 Spring Boot 应用，易于部署和管理。

XXL-Job 主要用于解决企业中需要大规模定时任务调度的问题，如数据同步、报表生成、消息推送等。通过 XXL-Job，企业可以更加方便、高效地管理和调度任务，确保任务的准确执行。





###   XXL-JOB的应用场景

**场景1：电商网站库存管理**

假设有一个电商网站，有上千个商品，每个商品都有库存。库存管理是一个非常重要的业务，需要确保商品库存的准确性和一致性。这个电商网站使用了分布式架构，商品库存信息分散在多个数据库节点上。

在这个场景中，XXL-Job可以用于定时同步商品库存信息，以确保库存数据的一致性。以下是如何应用XXL-Job来解决这个问题的步骤：

1. **创建同步任务**：
   - 首先，开发人员创建一个XXL-Job任务，该任务的作用是定时同步商品库存信息。
   - 任务可以配置定时触发，例如每天凌晨2点执行一次。
2. **任务执行逻辑**：
   - 任务被触发时，会执行一段自定义的Java代码逻辑。
   - 任务逻辑会连接到不同的数据库节点，获取商品库存信息。
   - 然后，任务会将这些库存信息合并并计算，确保库存的准确性。
3. **任务结果处理**：
   - 任务执行完成后，可以记录执行日志，以便后续排查问题。
   - 如果任务执行过程中发生异常，XXL-Job可以提供报警通知，通知相关人员进行处理。
4. **分布式执行**：
   - 由于电商网站采用分布式架构，可能有多个商品库存数据库节点需要同步。
   - XXL-Job可以支持分布式任务执行，可以配置多个任务执行器，每个执行器负责同步不同的库存节点。
5. **任务管理**：
   - 开发人员可以通过XXL-Job的Web界面管理任务，包括创建、编辑、删除、启停等操作。

通过上述步骤，XXL-Job可以帮助电商网站确保商品库存数据的准确性和一致性，提高了系统的稳定性和可维护性。这是一个实际应用XXL-Job的场景示例。当然，XXL-Job还可用于更广泛的任务调度和分布式任务管理需求。





**场景2：数据清洗与处理**

假设有一个数据分析平台，每天需要从不同的数据源（如数据库、日志文件、API接口等）获取大量的原始数据，然后进行数据清洗和处理，最终将处理后的数据存储到数据库中供分析使用。

在这个场景中，XXL-Job可以用于定时执行数据清洗和处理任务，以下是如何应用XXL-Job来解决这个问题的步骤：

1. **创建数据清洗任务**：
   - 开发人员创建多个XXL-Job任务，每个任务的作用是从不同的数据源获取数据并进行清洗和处理。
   - 任务可以配置定时触发，例如每天凌晨3点执行一次。
2. **任务执行逻辑**：
   - 每个任务被触发时，会执行一段自定义的数据清洗和处理逻辑，这些逻辑可以是Java代码、Python脚本等。
   - 任务会连接到相应的数据源，抽取原始数据，进行数据清洗、转换、计算等操作。
   - 清洗后的数据将被存储到数据库中或生成新的数据文件。
3. **任务结果处理**：
   - 任务执行完成后，可以记录执行日志，以便后续排查问题。
   - 如果任务执行过程中发生异常，XXL-Job可以提供报警通知，通知相关人员进行处理。
4. **并行执行**：
   - 数据清洗和处理任务通常需要大量的计算资源，可以配置多个任务执行器并行执行任务，提高任务处理速度。
   - 可以动态扩展任务执行器以应对不断增长的任务负载。
5. **任务监控与管理**：
   - 开发人员可以通过XXL-Job的Web界面实时监控任务的执行情况，查看任务日志和状态。
   - 可以手动触发任务执行、重新执行失败的任务，以及管理任务的调度策略。

通过上述步骤，XXL-Job可以帮助数据分析平台实现自动化的数据清洗和处理，提高了数据处理的效率和可维护性。这是另一个实际应用XXL-Job的场景示例，它适用于大规模的数据处理任务调度。



###  Github 给出的学习路线

学习XXL-JOB项目时，可以按照以下顺序逐个模块学习：

1. **基础环境搭建：** 首先，你需要搭建XXL-JOB的基础环境，包括XXL-JOB Admin后台和XXL-JOB Executor执行器。这是项目的基础，确保你能够管理和执行任务。
2. **任务配置管理：** 学习如何在XXL-JOB Admin后台创建、编辑和删除任务。了解任务的基本配置，包括任务名称、执行器选择、调度策略、Cron表达式等。
3. **任务执行器开发：** 如果你需要自定义任务执行逻辑，学习如何开发任务执行器。XXL-JOB支持Java、Python、Shell等多种执行器类型，选择适合你项目的执行器进行开发。
4. **任务调度策略：** 了解XXL-JOB的任务调度策略，包括固定间隔、Cron表达式、日历调度等。根据你的任务需求选择合适的策略配置任务。
5. **任务依赖和流程：** 学习如何配置任务之间的依赖关系，以及如何实现任务流程控制。这对于复杂的业务场景非常重要。
6. **报警和监控：** 了解如何配置报警规则和监控任务执行情况。学习如何查看任务执行日志和统计信息。
7. **高可用和集群部署：** 如果你需要保证任务调度的高可用性，学习如何进行XXL-JOB的集群部署。
8. **定制开发：** 如果有特殊需求，学习如何进行XXL-JOB的二次开发，定制适合你项目的功能。
9. **社区和文档：** 参与XXL-JOB的开源社区，阅读相关文档和教程，获取更多的技术支持和帮助。

在学习过程中，可以结合官方文档、示例代码和社区讨论来更好地理解和应用XXL-JOB的功能和特性。逐步深入学习每个模块，根据实际项目需求来选择学习的重点。



###  功能

- 1、简单：支持通过Web页面对任务进行CRUD操作，操作简单，一分钟上手；
- 2、动态：支持动态修改任务状态、启动/停止任务，以及终止运行中任务，即时生效；
- 3、调度中心HA（中心式）：调度采用中心式设计，“调度中心”自研调度组件并支持集群部署，可保证调度中心HA；
- 4、执行器HA（分布式）：任务分布式执行，任务"执行器"支持集群部署，可保证任务执行HA；
- 5、注册中心: 执行器会周期性自动注册任务, 调度中心将会自动发现注册的任务并触发执行。同时，也支持手动录入执行器地址；
- 6、弹性扩容缩容：一旦有新执行器机器上线或者下线，下次调度时将会重新分配任务；
- 7、触发策略：提供丰富的任务触发策略，包括：Cron触发、固定间隔触发、固定延时触发、API（事件）触发、人工触发、父子任务触发；
- 8、调度过期策略：调度中心错过调度时间的补偿处理策略，包括：忽略、立即补偿触发一次等；
- 9、阻塞处理策略：调度过于密集执行器来不及处理时的处理策略，策略包括：单机串行（默认）、丢弃后续调度、覆盖之前调度；
- 10、任务超时控制：支持自定义任务超时时间，任务运行超时将会主动中断任务；
- 11、任务失败重试：支持自定义任务失败重试次数，当任务失败时将会按照预设的失败重试次数主动进行重试；其中分片任务支持分片粒度的失败重试；
- 12、任务失败告警；默认提供邮件方式失败告警，同时预留扩展接口，可方便的扩展短信、钉钉等告警方式；
- 13、路由策略：执行器集群部署时提供丰富的路由策略，包括：第一个、最后一个、轮询、随机、一致性HASH、最不经常使用、最近最久未使用、故障转移、忙碌转移等；
- 14、分片广播任务：执行器集群部署时，任务路由策略选择"分片广播"情况下，一次任务调度将会广播触发集群中所有执行器执行一次任务，可根据分片参数开发分片任务；
- 15、动态分片：分片广播任务以执行器为维度进行分片，支持动态扩容执行器集群从而动态增加分片数量，协同进行业务处理；在进行大数据量业务操作时可显著提升任务处理能力和速度。
- 16、故障转移：任务路由策略选择"故障转移"情况下，如果执行器集群中某一台机器故障，将会自动Failover切换到一台正常的执行器发送调度请求。
- 17、任务进度监控：支持实时监控任务进度；
- 18、Rolling实时日志：支持在线查看调度结果，并且支持以Rolling方式实时查看执行器输出的完整的执行日志；
- 19、GLUE：提供Web IDE，支持在线开发任务逻辑代码，动态发布，实时编译生效，省略部署上线的过程。支持30个版本的历史版本回溯。
- 20、脚本任务：支持以GLUE模式开发和运行脚本任务，包括Shell、Python、NodeJS、PHP、PowerShell等类型脚本;
- 21、命令行任务：原生提供通用命令行任务Handler（Bean任务，"CommandJobHandler"）；业务方只需要提供命令行即可；
- 22、任务依赖：支持配置子任务依赖，当父任务执行结束且执行成功后将会主动触发一次子任务的执行, 多个子任务用逗号分隔；
- 23、一致性：“调度中心”通过DB锁保证集群分布式调度的一致性, 一次任务调度只会触发一次执行；
- 24、自定义任务参数：支持在线配置调度任务入参，即时生效；
- 25、调度线程池：调度系统多线程触发调度运行，确保调度精确执行，不被堵塞；
- 26、数据加密：调度中心和执行器之间的通讯进行数据加密，提升调度信息安全性；
- 27、邮件报警：任务失败时支持邮件报警，支持配置多邮件地址群发报警邮件；
- 28、推送maven中央仓库: 将会把最新稳定版推送到maven中央仓库, 方便用户接入和使用;
- 29、运行报表：支持实时查看运行数据，如任务数量、调度次数、执行器数量等；以及调度报表，如调度日期分布图，调度成功分布图等；
- 30、全异步：任务调度流程全异步化设计实现，如异步调度、异步运行、异步回调等，有效对密集调度进行流量削峰，理论上支持任意时长任务的运行；
- 31、跨语言：调度中心与执行器提供语言无关的 RESTful API 服务，第三方任意语言可据此对接调度中心或者实现执行器。除此之外，还提供了 “多任务模式”和“httpJobHandler”等其他跨语言方案；
- 32、国际化：调度中心支持国际化设置，提供中文、英文两种可选语言，默认为中文；
- 33、容器化：提供官方docker镜像，并实时更新推送dockerhub，进一步实现产品开箱即用；
- 34、线程池隔离：调度线程池进行隔离拆分，慢任务自动降级进入"Slow"线程池，避免耗尽调度线程，提高系统稳定性；
- 35、用户管理：支持在线管理系统用户，存在管理员、普通用户两种角色；
- 36、权限控制：执行器维度进行权限控制，管理员拥有全量权限，普通用户需要分配执行器权限后才允许相关操作；







###  总结

- 总体上说就是一个任务调度处理器，它可以定时控制某些任务的发起，任务失败还可以重新发送任务请求，让任务按指定顺序执行





###   配置链接

- springboot配置连接 [springboot整合xxl-job详解(亲测可用)-CSDN博客](https://blog.csdn.net/yihang250/article/details/109724475)
  - 首先配置config类
  - 再配置demo打上@xxlJob标签就可以自动调用